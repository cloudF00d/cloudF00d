<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ohgiraffers.semiproject.project.projectMake.model.dao.ProjectMakeMapper">


    <resultMap id="projectMake" type="com.ohgiraffers.semiproject.project.projectMake.model.dto.ProjectMakeDTO">
        <id property="sellerCode" column="SELLER_CODE"/>
        <result property="category" column="CATEGORY"/>
        <result property="type" column="TYPE"/>
        <result property="plan" column="PLAN"/>
        <result property="targetAmount" column="TARGET_AMOUNT"/>
        <result property="endDate" column="END_DATE"/>
        <result property="startDate" column="START_DATE"/>
        <result property="summary" column="SUMMARY"/>
        <result property="sellerType" column="SELLER_TYPE"/>
        <result property="tag" column="TAG"/>
    </resultMap>

    <insert id="projectStart" parameterType="com.ohgiraffers.semiproject.project.projectMake.model.dto.ProjectMakeDTO">
        insert into tbl_project_make (
            TITLE,
            CATEGORY,
            TYPE,
            PLAN,
            TARGET_AMOUNT,
            END_DATE,
            START_DATE,
            SUMMARY,
            SELLER_TYPE,
            SELLER_CODE)
        values (
                   null,
                   #{category},
                   null,
                   null,
                   null,
                   null,
                   null,
                   null,
                   null,
                   #{sellerCode}
               );
    </insert>

    <select id="whatIsYourProjectCode" parameterType="com.ohgiraffers.semiproject.project.projectMake.model.dto.ProjectMakeDTO">
        select
            *
        from
            tbl_project_make
        where
            SELLER_CODE = #{sellerCode}
    </select>

    <update id="basicInfoUpdate" parameterType="com.ohgiraffers.semiproject.project.projectMake.model.dto.ProjectMakeDTO">
        update tbl_project_make
        set END_DATE = #{endDate},
            TITLE = #{title},
            TAG = #{tag}
        where
            SELLER_CODE = #{sellerCode}
            ;
    </update>

    <update id="projectStartUpdate" parameterType="com.ohgiraffers.semiproject.project.projectMake.model.dto.ProjectMakeDTO">
        update tbl_project_make
        set CATEGORY = #{category}
        where
            SELLER_CODE = #{sellerCode}
        ;
    </update>

    <select id="selectMakingProject">
        select
            *
        from
            tbl_project_make
        where
            SELLER_CODE = #{code}
    </select>


</mapper>
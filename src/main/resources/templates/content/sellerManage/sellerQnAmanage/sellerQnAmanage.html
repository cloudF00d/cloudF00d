<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">

<th:block  layout:fragment="content">
    <link rel="stylesheet" href="/css/sellerManage/sellerProjectSearch.css">
    <title>sellerQnAmanage</title>

    <th:block th:replace="/fragments/sellersidebar.html"></th:block>


        <div class="middle_box">
            <div class="middle">
                <div class="first">
                    <span>프로젝트 QnA</span>
                </div>

                <div>
                    <img class="logo1" src="/images/01_logoimg/textLogoNone.png"  width="150px" height="150px" >
                </div>

                        <div class="searchQnA"></div>
                        <div class="searchright">
                            <button class="iconlogo" type="submit" style="width: 20px; height: 20px; border: none; background: url('/images/04_etc/magnifying glass.png') center center / cover no-repeat; padding: 0;"></button>

                            <input type="text" name="searchValue" id="searchValue" >
                            <select name="nation3" id="nation3">
                                <option value="search" selected>검색설정</option>
                                <option value="user" >작성자</option>
                                <option value="title">제목</option>
                                <option value="date" >작성일</option>
                                <option value="status">답변상태</option>
                            </select>
                        </div>



            <div>
                
                <table>
                    
                    <tr> 
                        <th>번호</th>
                        <th>제목</th>
                        <th>작성자</th>
                        <th>작성일</th>
                        <th>답변상태</th>
                    </tr>

                    <tr th:each="QnAMain : ${manageQnA}">
                        <td class="number"></td>
                        <td th:text="${QnAMain.title}" ></td>
                        <td th:text="${QnAMain.userId}" ></td>
                        <td th:text="${QnAMain.creation}"></td>
                        <td>
                            <button class="status"></button>
                            <input type="hidden" class="Val" th:value="${QnAMain.answerDay}"></input>
                        </td>
                    </tr>

                </table>
            </div>

                <div class="pagination" align="center">
                    <div class="pagination-box">

                    </div>
                </div>

        </div>

        </div>


    <script>

        $(document).ready(function () {
            var rows = document.querySelectorAll('.number');
            for (var i = 0; i < rows.length; i++) {
                rows[i].innerText = i + 1;
            }
        });


        document.addEventListener('DOMContentLoaded', function () {
            const answerStatusValElements = document.querySelectorAll('.Val');
            const answerStatusElements = document.querySelectorAll('.status');

            answerStatusElements.forEach(function (statusElement, index) {
                const valElement = answerStatusValElements[index];
                if (valElement.value.trim() !== '') {
                    statusElement.textContent = '답변완료';
                    statusElement.classList.add('close');
                }else {
                    statusElement.textContent = '답변하기';
                    statusElement.classList.add('ing');
                }
                statusElement.addEventListener('click', function () {
                    //링크이동

                });
            });
        });




    </script>





</th:block>
</html>
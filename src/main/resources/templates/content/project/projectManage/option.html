<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<th:block layout:fragment="content">

    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- 폰트패밀리: Poppins -->
    <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">

    <!-- 항상 변경 해야할 js 링크 -->
    <script src="/js/projectMake-main/projectManage/projectInfo.js"></script>

    <link rel="stylesheet" href="/resources/css/background-board/css.css">
    <!-- 항상 변경 해야할 css 링크 -->
    <link rel="stylesheet" href="/css/project/projectMake-main/projectManage-main/projectInfo/css.css">

    <th:block th:if="${sidebar == 'yes'}">
        <th:block th:replace="/fragments/projectMakesidebar.html"></th:block>
    </th:block>
    <form th:action="@{/projectMake/option}" id="yourForm" method="post">

        <input
                type="hidden"
                id="memberId"
                name="sellCode"
                th:value="${ #authentication.getPrincipal().memberDTO.getUserCode() }"
        >


        <div class="back-side-container">

            <section class="back-board-container">
                <!-- 배경 시트 좌측 상단 텍스트 -->
                <div class="greeting-text">5-1단계 : 상품 정보</div>
                <!-- 배경 시트 -->
                <div class="back-board">
                    <!-- 로고 -->
                    <div class="board-logo img">
                        <img src="/resources/images/01_logoimg/textLogoNone.png">
                    </div>


                    <div class="category-text">옵션 A<span class="greeting-text-star"> *</span></div>
                    <br>
                    <div class="owner-container">
                        <p>옵션 이름을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">
                                <input type="text" id="email" name="nameA" th:value="${option[0].getOName()}">
                            </th:block>
                            <th:block th:if="${option == 'nothing'}">
                                <input type="text" id="email" name="nameA" >
                            </th:block>
                        </div>
                        <p>가격을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">

                            <input type="text" id="email" name="priceA" th:value="${option[0].getOPrice()}"></th:block>
                            <th:block th:if="${option == 'nothing'}">

                                <input type="text" id="email" name="priceA" ></th:block>
                        </div>
                        <p>상품 구성 및 설명을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">

                            <input type="text" id="email" name="configureA" th:value="${option[0].getOConfigure()}"></th:block>
                            <th:block th:if="${option == 'nothing'}">

                                <input type="text" id="email" name="configureA"></th:block>
                        </div>
                    </div>

                    <div class="category-text">옵션 B<span class="greeting-text-star"> *</span></div>
                    <br>
                    <div class="owner-container">
                        <p>옵션 이름을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">

                            <input type="text" id="email" name="nameB" th:value="${option[1].getOName()}"></th:block>
                            <th:block th:if="${option == 'nothing'}">

                                <input type="text" id="email" name="nameB" ></th:block>
                        </div>
                        <p>가격을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">

                            <input type="text" id="email" name="priceB" th:value="${option[1].getOPrice()}"></th:block>
                            <th:block th:if="${option == 'nothing'}">

                                <input type="text" id="email" name="priceB" ></th:block>
                        </div>
                        <p>상품 구성 및 설명을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">
                            <input type="text" id="email" name="configureB" th:value="${option[1].getOConfigure()}"></th:block>
                            <th:block th:if="${option == 'nothing'}">
                                <input type="text" id="email" name="configureB"></th:block>
                        </div>
                    </div>

                    <div class="category-text">옵션 C<span class="greeting-text-star"> *</span></div>
                    <br>
                    <div class="owner-container">
                        <p>옵션 이름을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">
                            <input type="text" id="email" name="nameC" th:value="${option[2].getOName()}">
                            </th:block>
                            <th:block th:if="${option == 'nothing'}">
                                <input type="text" id="email" name="nameC">
                            </th:block>
                        </div>
                        <p>가격을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">
                            <input type="text" id="email" name="priceC" th:value="${option[2].getOPrice()}">
                            </th:block>
                            <th:block th:if="${option == 'nothing'}">
                                <input type="text" id="email" name="priceC">
                            </th:block>
                        </div>
                        <p>상품 구성 및 설명을 적어주세요.</p>
                        <div class="ownerInfo">
                            <th:block th:if="${option != 'nothing'}">
                            <input type="text" id="email" name="configureC" th:value="${option[2].getOConfigure()}">
</th:block>
                            <th:block th:if="${option == 'nothing'}">
                                <input type="text" id="email" name="configureC">
                            </th:block>
                        </div>
                    </div>


                    <br><br><br><br><br>
                    <button type="submit" class="project-start">다음 단계로</button>
                </div>


                <script>
                    document.getElementById('yourForm').addEventListener('submit', function (event) {
                        // 모든 필드를 검사합니다.
                        const nameA = document.getElementsByName('nameA')[0].value;
                        const priceA = document.getElementsByName('priceA')[0].value;
                        const configureA = document.getElementsByName('configureA')[0].value;

                        const nameB = document.getElementsByName('nameB')[0].value;
                        const priceB = document.getElementsByName('priceB')[0].value;
                        const configureB = document.getElementsByName('configureB')[0].value;

                        const nameC = document.getElementsByName('nameC')[0].value;
                        const priceC = document.getElementsByName('priceC')[0].value;
                        const configureC = document.getElementsByName('configureC')[0].value;

                        // 값이 비어있는지 확인하고, 비어있는 필드가 있으면 알림을 표시하고 submit 동작을 중단합니다.
                        if (!nameA || !priceA || !configureA ||
                            !nameB || !priceB || !configureB ||
                            !nameC || !priceC || !configureC) {
                            alert('모든 필드를 입력해주세요.');
                            event.preventDefault(); // submit 동작을 중단합니다.
                        } else {
                            alert('저장되었습니다.')
                            // 모든 필드에 값이 제대로 입력되었으므로, 원래의 submit 동작을 계속합니다.
                        }
                    });
                </script>


            </section>
        </div> <!-- back-board -->
    </form>
    </div> <!-- greeting-text -->


</th:block>

</html>